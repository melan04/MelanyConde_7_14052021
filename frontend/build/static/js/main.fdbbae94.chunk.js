(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{65:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(18),i=c.n(a),s=c(2),o=c(13),l=c(5),u=c(0),j=function(){return Object(u.jsx)("div",{className:"left-nav-container",children:Object(u.jsx)("div",{className:"icons",children:Object(u.jsxs)("div",{className:"icons-bis",children:[Object(u.jsx)(o.b,{to:"/",exact:!0,activeClassName:"active-left-nav",children:Object(u.jsx)("img",{src:"./img/icons/home.svg",alt:"home"})}),Object(u.jsx)("br",{}),Object(u.jsx)(o.b,{to:"/profil",exact:!0,activeClassName:"active-left-nav",children:Object(u.jsx)("img",{src:"./img/icons/user.svg",alt:"home"})})]})})})},d=c(3),b=c(6),h=c.n(b),m="GET_POSTS",O="ADD_POST",p="UPDATE_POST",f="DELETE_POST",x=localStorage.getItem("jwt"),g=function(e){return function(e){return h()({method:"get",url:"".concat("http://localhost:8080/","api/articles"),headers:{Authorization:"Bearer "+x,Accept:"application/json","Content-Type":"application/json"}}).then((function(t){e({type:m,payload:t.data})})).catch((function(e){return console.log(e)}))}},v=function(e,t){var c=localStorage.getItem("jwt");return function(n){return h()({method:"post",url:"".concat("http://localhost:8080/","api/articles"),headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"},data:e}).then((function(e){n({type:O,payload:e.data,userId:t})})).catch((function(e){return console.log(e)}))}},y=function(e){var t=Date.parse(e);return new Date(t).toLocaleDateString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"long",year:"numeric",month:"short",day:"numeric"}).toString()},N=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},S=function(e){var t=Object(d.b)(),c=function(){return t((c=e.id,function(e){return h()({method:"delete",url:"".concat("http://localhost:8080/","api/articles/")+c,headers:{Authorization:"Bearer "+x}}).then((function(t){e({type:f,payload:{articleId:c}})})).catch((function(e){return console.log(e)}))}));var c};return Object(u.jsx)("div",{onClick:function(){window.confirm("Voulez-vous supprimer votre article ? ")&&c()},children:Object(u.jsx)("img",{src:"./img/icons/trash.svg",alt:"trash"})})},w="GET_COMMENTS",I="ADD_COMMENTS",C="DELETE_COMMENTS",E=localStorage.getItem("jwt"),k=function(e){return function(t){return h()({method:"get",url:"".concat("http://localhost:8080/","api/articles/")+e+"/comments/",headers:{Authorization:"Bearer "+E}}).then((function(c){t({type:w,payload:{articleId:e,comments:c.data}})})).catch((function(e){return console.log(e)}))}},D=function(e){var t=Object(d.b)(),c=function(){var c,n;t((c=e.id,n=e.articleId,function(e){return h()({method:"delete",url:"".concat("http://localhost:8080/","api/comments/")+c,headers:{Authorization:"Bearer "+E}}).then((function(t){e({type:C,payload:{commentId:c,articleId:n}})})).catch((function(e){return console.log(e)}))}))};return Object(u.jsx)("div",{onClick:function(){window.confirm("Voulez-vous supprimer votre commentaire ? ")&&c()},children:Object(u.jsx)("img",{src:"./img/icons/trash.svg",alt:"trash"})})},A=function(e){var t=e.comments,c=e.articleId,r=e.userId,a=Object(n.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],j=Object(n.useState)(!0),b=Object(s.a)(j,2),m=b[0],O=b[1],p=Object(d.c)((function(e){return e.usersReducer})),f=Object(d.c)((function(e){return e.userReducer})),x=Object(d.b)();return Object(n.useEffect)((function(){m&&x(k()).then((function(){return O(!1)}))}),[x,m]),console.log(f.isAdmin),Object(u.jsxs)("div",{className:"comments-container",children:[m&&Object(u.jsx)("i",{className:"fas fa-spinner fa-spin"}),Object(u.jsxs)("ul",{children:[t&&t.length>0&&t.map((function(e){return Object(u.jsxs)("div",{className:"comment-container",children:[Object(u.jsx)("div",{className:"left-part",children:p.map((function(t){return t.id===e.userId&&t.imageUrl?Object(u.jsx)("img",{src:"http://localhost:8080/images/"+t.imageUrl,alt:"user"},"id"+e.id):(t.id!==e.userId||t.imageUrl,null)}))}),Object(u.jsxs)("div",{className:"right-part",children:[Object(u.jsxs)("div",{className:"comment-header ",children:[Object(u.jsx)("div",{className:"pseudo",children:p.map((function(t){return t.id===e.userId&&t.firstname?Object(u.jsx)("h3",{children:t.firstname}):null}))}),Object(u.jsx)("span",{children:y(e.createdAt)})]}),Object(u.jsx)("p",{children:e.content})]}),(f.isAdmin||f.id===e.userId)&&Object(u.jsx)("div",{className:"button-container",children:Object(u.jsx)(D,{id:e.id,articleId:c})})]})})),f.id&&Object(u.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),o&&x(function(e,t,c){return function(n){return h()({method:"post",url:"".concat("http://localhost:8080/","api/comments/"),headers:{Authorization:"Bearer "+E,"Content-Type":"application/json"},data:{userId:t,content:c,articleId:e}}).then((function(t){console.log(t),n({type:I,payload:{articleId:e,comments:t.data}})})).catch((function(e){return console.log(e)}))}}(c,r,o)).then((function(){return x(k())})).then((function(){return l("")}))},className:"comment-form",children:[Object(u.jsx)("input",{type:"text",name:"content",onChange:function(e){return l(e.target.value)},value:o,placeholder:"Laisser un commentaire"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Envoyer"})]})," "]})]})},T=function(e){var t=e.article,c=Object(n.useState)(!1),r=Object(s.a)(c,2),a=r[0],i=r[1],o=Object(n.useState)(null),l=Object(s.a)(o,2),j=l[0],b=l[1],m=Object(n.useState)(!1),O=Object(s.a)(m,2),f=O[0],g=O[1],v=Object(d.c)((function(e){return e.usersReducer})),N=Object(d.c)((function(e){return e.userReducer})),w=Object(d.b)();Object(n.useEffect)((function(){f&&w(k(t.id))}),[f,t.id,w]);return Object(u.jsxs)("li",{className:"card-container",children:[Object(u.jsx)("div",{className:"card-left",children:v.map((function(e){return e.id===t.userId&&e.imageUrl?Object(u.jsx)("img",{src:"http://localhost:8080/images/"+e.imageUrl,alt:"user"},"id"+t.id):(e.id!==t.userId||e.imageUrl,null)}))}),Object(u.jsxs)("div",{className:"card-right",children:[Object(u.jsxs)("div",{className:"card-header",children:[Object(u.jsx)("div",{className:"pseudo",children:v.map((function(e){return e.id===t.userId?Object(u.jsx)("h3",{children:e.firstname}):null}))}),Object(u.jsx)("span",{children:y(t.createdAt)})]}),Object(u.jsx)("p",{children:t.title}),!1===a&&Object(u.jsx)("p",{children:t.content}),a&&Object(u.jsxs)("div",{className:"update-post",children:[Object(u.jsx)("textarea",{defaultValue:t.content,onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("div",{className:"button-container",onClick:function(){var e,c;j&&w((e=t.id,c=j,function(t){return h()({method:"put",url:"".concat("http://localhost:8080/","api/articles/")+e,headers:{Authorization:"Bearer "+x},data:{content:c}}).then((function(n){t({type:p,payload:{content:c,articleId:e}})})).catch((function(e){return console.log(e)}))})),i(!1)},children:Object(u.jsx)("button",{className:"btn",children:"Valider les modifications"})})]}),t.articleUrl&&Object(u.jsx)("img",{src:"http://localhost:8080/images/"+t.articleUrl,alt:"article",className:"card-pic"},"articleImage"+N.id),(N.isAdmin||N.id===t.userId)&&Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)("div",{onClick:function(){return i(!a)},children:Object(u.jsx)("img",{src:"./img/icons/edit.svg",alt:"edit"})}),Object(u.jsx)(S,{id:t.id})]}),Object(u.jsx)("div",{className:"card-footer",children:Object(u.jsxs)("div",{className:"comment-icon",children:[Object(u.jsx)("img",{onClick:function(){return g(!f)},src:"./img/icons/message1.svg",alt:"comment"}),Object(u.jsx)("span",{children:" Ecrire un commentaire "})]})}),f&&Object(u.jsx)(A,{comments:t.comments,articleId:t.id,userId:N.id})]})]},t.id)},U=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(d.b)(),i=Object(d.c)((function(e){return e.postReducer}));return Object(n.useEffect)((function(){c&&(a(g()),r(!1))}),[a,c]),Object(u.jsxs)("div",{className:"thread-container",children:[c&&Object(u.jsx)("i",{className:"fas fa-spinner fa-spin"}),Object(u.jsx)("ul",{children:i.length>0&&i.map((function(e){return Object(u.jsx)(T,{article:e},e.id)}))})]})},z=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],j=Object(n.useState)(null),d=Object(s.a)(j,2),b=d[0],m=d[1];return Object(u.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),h()({method:"post",url:"".concat("http://localhost:8080/","api/auth/login"),data:{email:c,password:o}}).then((function(e){window.location="/profil",localStorage.setItem("jwt",e.data.token),localStorage.setItem("userID",e.data.userId)})).catch((function(e){console.log(e.response),m(e.response.data.error)}))},id:"sign-up-form",children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",name:"email",id:"email",onChange:function(e){return r(e.target.value)},value:c}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"password",name:"password",id:"password",onChange:function(e){return l(e.target.value)},value:o}),Object(u.jsx)("div",{children:b}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Se connecter"})]})},F=c(16),R=c.n(F),B=c(20),P=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],j=Object(n.useState)(""),d=Object(s.a)(j,2),b=d[0],m=d[1],O=Object(n.useState)(""),p=Object(s.a)(O,2),f=p[0],x=p[1],g=Object(n.useState)(""),v=Object(s.a)(g,2),y=v[0],N=v[1],S=Object(n.useState)(""),w=Object(s.a)(S,2),I=w[0],C=w[1],E=Object(n.useState)(null),k=Object(s.a)(E,2),D=k[0],A=k[1],T=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y===I){e.next=5;break}A("Les mots de passe ne correspondent pas"),e.next=7;break;case 5:return e.next=7,h()({method:"post",url:"".concat("http://localhost:8080/","api/auth/signup"),data:{firstname:o,lastname:b,email:f,password:y}}).then((function(e){console.log(e),r(!0)})).catch((function(e){console.log(e.response),A(e.response.data.error)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:c?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(z,{}),Object(u.jsx)("span",{}),Object(u.jsx)("h4",{className:"success",children:"Enregistrement r\xe9ussi, veuillez-vous connecter"})]}):Object(u.jsxs)("form",{action:"",onSubmit:T,id:"sign-up-form",children:[Object(u.jsx)("label",{htmlFor:"firstname",children:"Pr\xe9nom"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",name:"firstname",id:"firstname",onChange:function(e){return l(e.target.value)},value:o}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"lastname",children:"Nom"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",name:"lastname",id:"lastname",onChange:function(e){return m(e.target.value)},value:b}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"email",children:"Email"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",name:"email",id:"email",onChange:function(e){return x(e.target.value)},value:f}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"password",name:"password",id:"password",onChange:function(e){return N(e.target.value)},value:y}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"password-conf",children:"Confirmer mot de passe"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"password",name:"password",id:"password-conf",onChange:function(e){return C(e.target.value)},value:I}),Object(u.jsx)("div",{children:D}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Valider inscription"})]})})},_=function(e){var t=Object(n.useState)(e.signup),c=Object(s.a)(t,2),r=c[0],a=c[1],i=Object(n.useState)(e.signin),o=Object(s.a)(i,2),l=o[0],j=o[1],d=function(e){"register"===e.target.id?(j(!1),a(!0)):"login"===e.target.id&&(a(!1),j(!0))};return Object(u.jsx)("div",{className:"connection-form",children:Object(u.jsxs)("div",{className:"form-container",children:[Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{onClick:d,id:"register",className:r?"active-btn":null,children:"S'inscrire"}),Object(u.jsx)("li",{onClick:d,id:"login",className:l?"active-btn":null,children:"Se connecter"})]}),r&&Object(u.jsx)(P,{}),l&&Object(u.jsx)(z,{})]})})},M=function(e){var t,c=Object(n.useState)(!0),r=Object(s.a)(c,2),a=r[0],i=r[1],l=Object(n.useState)(" "),j=Object(s.a)(l,2),b=j[0],h=j[1],m=Object(n.useState)(" "),O=Object(s.a)(m,2),p=O[0],f=O[1],x=Object(n.useState)(""),y=Object(s.a)(x,2),S=y[0],w=y[1],I=Object(d.b)(),C=Object(d.c)((function(e){return e.userReducer})),E=function(){var e=Object(B.a)(R.a.mark((function e(t){var c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(b||S||p)){e.next=13;break}return(c=new FormData).append("content",b),c.append("title",p),c.append("userId",C.id),c.append("image",S),e.next=9,I(v(c));case 9:I(g()),k(),e.next=14;break;case 13:alert("Entrez votre message");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){f(""),h(""),w("")};return Object(n.useEffect)((function(){N(C)||i(!1)}),[C,b,p,S]),Object(u.jsx)("div",{className:"post-container",children:a?Object(u.jsx)("i",{className:"fas fa-spinner fa-pulse"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.b,{exact:!0,to:"/profil",children:Object(u.jsx)("div",{className:"user-info",children:Object(u.jsx)("img",{src:"http://localhost:8080/images/"+C.imageUrl,alt:"userpix"})})}),Object(u.jsxs)("div",{className:"post-form",children:[Object(u.jsx)("textarea",{name:"title",placeholder:"Inscrire le titre",onChange:function(e){return f(e.target.value)},value:p}),Object(u.jsx)("textarea",{name:"content",placeholder:"Quoi de  neuf ?",onChange:function(e){return h(e.target.value)},value:b}),b||p||S>20?Object(u.jsxs)("li",{className:"card-container",children:[Object(u.jsx)("div",{className:"card-left",children:Object(u.jsx)("img",{src:"http://localhost:8080/images/"+C.imageUrl,alt:"userpix"})}),Object(u.jsxs)("div",{className:"card-right",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("div",{className:"pseudo",children:Object(u.jsx)("h3",{children:C.firstname})})}),Object(u.jsx)("span",{children:(t=Date.now(),new Date(t).toLocaleDateString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"long",year:"numeric",month:"short",day:"numeric"}).toString())})]}),Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:p}),Object(u.jsx)("p",{children:b})]})]}):null,Object(u.jsxs)("div",{className:"footer-form",children:[Object(u.jsxs)("div",{className:"icon",children:[N(S)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:"./img/icons/picture.svg",alt:"img"}),Object(u.jsx)("input",{type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png .gifs",onChange:function(e){return w(e.target.files[0])}})]}),S&&Object(u.jsx)("button",{onClick:function(){return w("")},children:" Supprimer photo"})]}),Object(u.jsxs)("div",{className:"btn-send",children:[b||S||p>20?Object(u.jsxs)("button",{className:"cancel",onClick:k,children:[" ","Annuler message"," "]}):null,Object(u.jsx)("button",{className:"send",onClick:E,children:"Envoyez"})]})]})]})]})})},L=Object(n.createContext)(),V=function(){var e=Object(n.useContext)(L);return Object(u.jsxs)("div",{className:"home",children:[Object(u.jsx)(j,{}),Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)("div",{className:"home-header",children:e?Object(u.jsx)(M,{}):Object(u.jsx)(_,{signin:!0,signup:!1})}),Object(u.jsx)(U,{})]})]})},G="GET_USER",J="UPLOAD_PICTURE",Q="UPDATE_BIO",W="DELETE_PROFIL",q=localStorage.getItem("jwt"),H=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(d.b)(),i=Object(d.c)((function(e){return e.userReducer}));return Object(u.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",i.firstname),t.append("userID",i.id),t.append("image",c),a(function(e,t){var c=localStorage.getItem("jwt");return function(n){return h()({method:"put",url:"".concat("http://localhost:8080/","api/users/")+t,headers:{Authorization:"Bearer "+c},data:e}).then((function(e){return h()({method:"get",url:"".concat("http://localhost:8080/","api/users/")+t,headers:{Authorization:"Bearer "+c}}).then((function(e){n({type:J,payload:e.data.imageUrl})}))})).catch((function(e){return console.error(e)}))}}(t,i.id))},className:"upload-pic",children:[Object(u.jsx)("label",{htmlFor:"file",children:"Changer d'image"}),Object(u.jsx)("input",{type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){return r(e.target.files[0])}}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Envoyer"})]})},K=function(e){var t=Object(d.b)(),c=function(){return t((c=e.id,function(e){return h()({method:"delete",url:"".concat("http://localhost:8080/","api/users/")+c,headers:{Authorization:"Bearer "+q}}).then((function(t){e({type:W,payload:{userId:c}})})).catch((function(e){return console.log(e)}))}));var c};return Object(u.jsx)("button",{onClick:function(){window.confirm("Voulez-vous supprimer votre profil ? ")&&(c(),localStorage.clear(),window.location="/profil")},children:"Supprimer le profil"})},X=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),i=Object(s.a)(a,2),o=i[0],l=i[1],b=Object(d.c)((function(e){return e.userReducer})),m=Object(d.b)();return Object(u.jsxs)("div",{className:"profil-container",children:[Object(u.jsx)(j,{}),Object(u.jsxs)("h1",{children:["Profil de ",b.firstname]}),Object(u.jsxs)("div",{className:"update-container",children:[Object(u.jsxs)("div",{className:"left-part",children:[Object(u.jsx)("h3",{children:"Photo de profil"}),b.imageUrl?Object(u.jsx)("img",{src:"http://localhost:8080/images/"+b.imageUrl,alt:"user"},"userImage"+b.id):Object(u.jsx)("img",{src:"http://localhost:8080/images/undefined.jpeg",alt:"user"}),Object(u.jsx)(H,{})]}),Object(u.jsxs)("div",{className:"right-part",children:[Object(u.jsxs)("div",{className:"bio-update",children:[Object(u.jsx)("h3",{children:"Bio"}),!1===o&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{onClick:function(){return l(!o)},children:b.bio}),Object(u.jsx)("button",{onClick:function(){return l(!o)},children:"Modifier bio"})]}),o&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("textarea",{type:"text",defaultValue:b.bio,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){m(function(e,t){var c=localStorage.getItem("jwt");return function(n){return h()({method:"put",url:"".concat("http://localhost:8080/","api/users/")+e,headers:{Authorization:"Bearer "+c},data:{bio:t}}).then((function(e){n({type:Q,payload:t})})).catch((function(e){return console.error(e)}))}}(b.id,c)),l(!1)},children:"Valider modifications"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(K,{id:b.id})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("h4",{children:["Membre depuis le : ",y(b.createdAt)]})]})]})]})},Y=function(){var e=Object(n.useContext)(L);return Object(u.jsx)("div",{className:"profil-page",children:e?Object(u.jsx)(X,{}):Object(u.jsxs)("div",{className:"log-container",children:[Object(u.jsx)(_,{signin:!1,signup:!0}),Object(u.jsx)("div",{className:"img-container",children:Object(u.jsx)("img",{src:"./img/log.jpeg",alt:"img-log"})})]})})},Z=function(){return Object(u.jsx)("li",{onClick:function(){localStorage.clear(),window.location="/profil"},children:Object(u.jsx)("img",{src:"../img/icons/logout.svg",alt:"logo logout"})})},$=function(){var e=Object(n.useContext)(L),t=Object(d.c)((function(e){return e.userReducer}));return Object(u.jsx)("nav",{children:Object(u.jsxs)("div",{className:"nav-container",children:[Object(u.jsx)("div",{className:"logo",children:Object(u.jsx)(o.b,{exact:!0,to:"/",children:Object(u.jsxs)("div",{className:"logo",children:[Object(u.jsx)("img",{src:"./img/icon.png",alt:"icon du site"}),Object(u.jsx)("h3",{children:"Groupomania Network"})]})})}),e?Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{}),Object(u.jsx)("li",{className:"welcome",children:Object(u.jsx)(o.b,{exact:!0,to:"/profil",children:Object(u.jsxs)("h5",{children:["Bienvenue ",t.firstname]})})}),Object(u.jsx)(Z,{})]}):Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{}),Object(u.jsx)("li",{className:"welcome",children:Object(u.jsx)(o.b,{exact:!0,to:"/profil",children:Object(u.jsx)("img",{src:"./img/icons/login.svg",alt:"login"})})})]})]})})},ee=function(){return Object(u.jsxs)(o.a,{children:[Object(u.jsx)($,{}),Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/",exact:!0,component:V}),Object(u.jsx)(l.b,{path:"/profil",exact:!0,component:Y}),Object(u.jsx)(l.a,{to:"/"})]})]})},te=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),c=t[0],a=t[1],i=Object(d.b)();return r.a.useEffect((function(){!function(){var e=localStorage.getItem("userID");e&&a(e)}(),c&&i(function(e){var t=localStorage.getItem("jwt");return function(c){return h.a.get("".concat("http://localhost:8080/","api/users/").concat(e),{headers:{Authorization:"Bearer "+t}}).then((function(e){c({type:G,payload:e.data})})).catch((function(e){console.error(e)}))}}(c))}),[c,i]),Object(u.jsx)(L.Provider,{value:c,children:Object(u.jsx)(ee,{})})},ce=(c(65),c(15)),ne=c(34),re=c(8),ae={};var ie="GET_USERS",se={};var oe={};var le=Object(ce.combineReducers)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return t.payload;case J:return Object(re.a)(Object(re.a)({},e),{},{imageUrl:t.payload});case Q:return Object(re.a)(Object(re.a)({},e),{},{bio:t.payload});case W:return t.payload.userId;default:return e}},usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return t.payload;default:return e}},postReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:case O:return t.payload;case p:return e.map((function(e){return e.id===t.payload.articleId?Object(re.a)(Object(re.a)({},e),{},{content:t.payload.content}):e}));case f:return e.filter((function(e){return e.id!==t.payload.articleId}));case w:case I:return e.map((function(e){return e.id===t.payload.articleId?Object(re.a)(Object(re.a)({},e),{},{comments:t.payload.comments}):e}));case C:return e.map((function(e){return e.id===t.payload.articleId?Object(re.a)(Object(re.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.payload.commentId}))}):e}));default:return e}}}),ue=c(35),je=c(36),de=c.n(je),be=Object(ce.createStore)(le,Object(ue.composeWithDevTools)(Object(ce.applyMiddleware)(ne.a,de.a)));be.dispatch(function(){var e=localStorage.getItem("jwt");return function(t){return h()({method:"get",url:"".concat("http://localhost:8080/","api/users"),headers:{Authorization:"Bearer "+e}}).then((function(e){t({type:ie,payload:e.data})})).catch((function(e){return console.log(e)}))}}()),i.a.render(Object(u.jsx)(d.a,{store:be,children:Object(u.jsx)(te,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.fdbbae94.chunk.js.map